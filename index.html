<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Game::Rock Paper Scissors</title>
</head>
<body>
	<script>
		function computerPlay() {
			let randomValue;
			let gameValue = ['rock', 'paper', 'scissor'];
			for (let i = 1; i <= gameValue.length; i++) {
				randomValue = Math.floor(Math.random() * i);
			}
			return gameValue[randomValue];
		}

		function rock() {
			switch (computerSelection) {
				case 'scissor':
				console.log(`You Won! ${playerSelection} beats ${computerSelection}`);
				playerScore++;
				break;

				case 'paper':
				console.log(`You loose ${computerSelection} beats ${playerSelection}`);
				computerScore++;
				break;

				case 'rock':
				console.log('Game tied both got rock');
				break;
			}
		}

		function paper() {
			switch (computerSelection) {
				case 'rock':
				console.log(`You Won! ${playerSelection} beats ${computerSelection}`);
				playerScore++;
				break;

				case 'scissor':
				console.log(`You loose ${computerSelection} beats ${playerSelection}`);
				computerScore++;
				break;

				case 'paper':
				console.log('Game tied both got paper');
				break;
			}
		}

		function scissor() {
			switch (computerSelection) {
				case 'paper':
				console.log(`You Won! ${playerSelection} beats ${computerSelection}`);
				playerScore++;
				break;

				case 'rock':
				console.log(`You loose ${computerSelection} beats ${playerSelection}`);
				computerScore++;
				break;

				case 'scissor':
				console.log('Game tied both got scissor');
				break;
			}
		}

		function setValue() {
			playerSelection = prompt(`Round: ${round} - Type rock, paper or scissor`);
			playerSelection = playerSelection.toLowerCase();
			computerSelection = computerPlay();
			console.log(playRound(playerSelection, computerSelection));
		}

		function playRound(playerSelection, computerSelection) {
			if (playerSelection === 'rock') {
				rock();
			} else if (playerSelection === 'paper') {
				paper();
			} else if (playerSelection === 'scissor') {
				scissor();
			} else {
				console.log(`Invalid input, match not found for ${playerSelection}`);
			}
			console.log(`Your score is ${playerScore} and Computer score is ${computerScore}`);
		}

		function game() {
			while(round < 5) {
				setValue();
				playRound(playerSelection, computerSelection);
				round++;
			}

			if (playerScore > computerScore) {
				console.log(`You Won with a score of ${playerScore}`);
			} else {
				console.log(`Computer Won with a score of ${computerScore}`);
			}
		}

		let playerSelection, computerSelection;

		let playerScore = 0;
		let computerScore = 0;
		let round = 0;

		game();

	</script>
</body>
</html>